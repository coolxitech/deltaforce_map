function t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=256,i=286,s=30,n=15,a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new Array(576);t(l);const d=new Array(60);t(d);const c=new Array(512);t(c);const _=new Array(256);t(_);const f=new Array(29);t(f);const u=new Array(s);function w(t,e,i,s,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=s,this.max_length=n,this.has_stree=t&&t.length}let g,p,m;function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(u);const y=t=>t<256?c[t]:c[256+(t>>>7)],k=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},x=(t,e,i)=>{t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},v=(t,e,i)=>{x(t,i[2*e],i[2*e+1])},z=(t,e)=>{let i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1},A=(t,e,i)=>{const s=new Array(16);let a,r,o=0;for(a=1;a<=n;a++)o=o+i[a-1]<<1,s[a]=o;for(r=0;r<=e;r++){let e=t[2*r+1];0!==e&&(t[2*r]=z(s[e]++,e))}},E=t=>{let e;for(e=0;e<i;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},U=t=>{t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=(t,e,i,s)=>{const n=2*e,a=2*i;return t[n]<t[a]||t[n]===t[a]&&s[e]<=s[i]},R=(t,e,i)=>{const s=t.heap[i];let n=i<<1;for(;n<=t.heap_len&&(n<t.heap_len&&S(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!S(e,s,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=s},B=(t,i,s)=>{let n,o,h,l,d=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+d++],n+=(255&t.pending_buf[t.sym_buf+d++])<<8,o=t.pending_buf[t.sym_buf+d++],0===n?v(t,o,i):(h=_[o],v(t,h+e+1,i),l=a[h],0!==l&&(o-=f[h],x(t,o,l)),n--,h=y(n),v(t,h,s),l=r[h],0!==l&&(n-=u[h],x(t,n,l)))}while(d<t.sym_next);v(t,256,i)},L=(t,e)=>{const i=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,r=e.stat_desc.elems;let o,h,l,d=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<r;o++)0!==i[2*o]?(t.heap[++t.heap_len]=d=o,t.depth[o]=0):i[2*o+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=d<2?++d:0,i[2*l]=1,t.depth[l]=0,t.opt_len--,a&&(t.static_len-=s[2*l+1]);for(e.max_code=d,o=t.heap_len>>1;o>=1;o--)R(t,i,o);l=r;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,i,1),h=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=h,i[2*l]=i[2*o]+i[2*h],t.depth[l]=(t.depth[o]>=t.depth[h]?t.depth[o]:t.depth[h])+1,i[2*o+1]=i[2*h+1]=l,t.heap[1]=l++,R(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const i=e.dyn_tree,s=e.max_code,a=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,l=e.stat_desc.max_length;let d,c,_,f,u,w,g=0;for(f=0;f<=n;f++)t.bl_count[f]=0;for(i[2*t.heap[t.heap_max]+1]=0,d=t.heap_max+1;d<573;d++)c=t.heap[d],f=i[2*i[2*c+1]+1]+1,f>l&&(f=l,g++),i[2*c+1]=f,c>s||(t.bl_count[f]++,u=0,c>=h&&(u=o[c-h]),w=i[2*c],t.opt_len+=w*(f+u),r&&(t.static_len+=w*(a[2*c+1]+u)));if(0!==g){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,g-=2}while(g>0);for(f=l;0!==f;f--)for(c=t.bl_count[f];0!==c;)_=t.heap[--d],_>s||(i[2*_+1]!==f&&(t.opt_len+=(f-i[2*_+1])*i[2*_],i[2*_+1]=f),c--)}})(t,e),A(i,d,t.bl_count)},I=(t,e,i)=>{let s,n,a=-1,r=e[1],o=0,h=7,l=4;for(0===r&&(h=138,l=3),e[2*(i+1)+1]=65535,s=0;s<=i;s++)n=r,r=e[2*(s+1)+1],++o<h&&n===r||(o<l?t.bl_tree[2*n]+=o:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=n,0===r?(h=138,l=3):n===r?(h=6,l=3):(h=7,l=4))},D=(t,e,i)=>{let s,n,a=-1,r=e[1],o=0,h=7,l=4;for(0===r&&(h=138,l=3),s=0;s<=i;s++)if(n=r,r=e[2*(s+1)+1],!(++o<h&&n===r)){if(o<l)do{v(t,n,t.bl_tree)}while(0!==--o);else 0!==n?(n!==a&&(v(t,n,t.bl_tree),o--),v(t,16,t.bl_tree),x(t,o-3,2)):o<=10?(v(t,17,t.bl_tree),x(t,o-3,3)):(v(t,18,t.bl_tree),x(t,o-11,7));o=0,a=n,0===r?(h=138,l=3):n===r?(h=6,l=3):(h=7,l=4)}};let Z=!1;const T=(t,e,i,s)=>{x(t,0+(s?1:0),3),U(t),k(t,i),k(t,~i),i&&t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i};var M={_tr_init:t=>{Z||((()=>{let t,e,h,b,y;const k=new Array(16);for(h=0,b=0;b<28;b++)for(f[b]=h,t=0;t<1<<a[b];t++)_[h++]=b;for(_[h-1]=b,y=0,b=0;b<16;b++)for(u[b]=y,t=0;t<1<<r[b];t++)c[y++]=b;for(y>>=7;b<s;b++)for(u[b]=y<<7,t=0;t<1<<r[b]-7;t++)c[256+y++]=b;for(e=0;e<=n;e++)k[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,k[8]++;for(;t<=255;)l[2*t+1]=9,t++,k[9]++;for(;t<=279;)l[2*t+1]=7,t++,k[7]++;for(;t<=287;)l[2*t+1]=8,t++,k[8]++;for(A(l,287,k),t=0;t<s;t++)d[2*t+1]=5,d[2*t]=z(t,5);g=new w(l,a,257,i,n),p=new w(d,r,0,s,n),m=new w(new Array(0),o,0,19,7)})(),Z=!0),t.l_desc=new b(t.dyn_ltree,g),t.d_desc=new b(t.dyn_dtree,p),t.bl_desc=new b(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,E(t)},_tr_stored_block:T,_tr_flush_block:(t,i,s,n)=>{let a,r,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let i,s=4093624447;for(i=0;i<=31;i++,s>>>=1)if(1&s&&0!==t.dyn_ltree[2*i])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(i=32;i<e;i++)if(0!==t.dyn_ltree[2*i])return 1;return 0})(t)),L(t,t.l_desc),L(t,t.d_desc),o=(t=>{let e;for(I(t,t.dyn_ltree,t.l_desc.max_code),I(t,t.dyn_dtree,t.d_desc.max_code),L(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),a=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=a&&(a=r)):a=r=s+5,s+4<=a&&-1!==i?T(t,i,s,n):4===t.strategy||r===a?(x(t,2+(n?1:0),3),B(t,l,d)):(x(t,4+(n?1:0),3),((t,e,i,s)=>{let n;for(x(t,e-257,5),x(t,i-1,5),x(t,s-4,4),n=0;n<s;n++)x(t,t.bl_tree[2*h[n]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,i-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),B(t,t.dyn_ltree,t.dyn_dtree)),E(t),n&&U(t)},_tr_tally:(t,i,s)=>(t.pending_buf[t.sym_buf+t.sym_next++]=i,t.pending_buf[t.sym_buf+t.sym_next++]=i>>8,t.pending_buf[t.sym_buf+t.sym_next++]=s,0===i?t.dyn_ltree[2*s]++:(t.matches++,i--,t.dyn_ltree[2*(_[s]+e+1)]++,t.dyn_dtree[2*y(i)]++),t.sym_next===t.sym_end),_tr_align:t=>{x(t,2,3),v(t,256,l),(t=>{16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var O=(t,e,i,s)=>{let n=65535&t,a=t>>>16&65535,r=0;for(;0!==i;){r=i>2e3?2e3:i,i-=r;do{n=n+e[s++]|0,a=a+n|0}while(--r);n%=65521,a%=65521}return n|a<<16};const C=new Uint32Array((()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var s=0;s<8;s++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e})());var F=(t,e,i,s)=>{const n=C,a=s+i;t^=-1;for(let r=s;r<a;r++)t=t>>>8^n[255&(t^e[r])];return-1^t},N={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:P,_tr_stored_block:K,_tr_flush_block:$,_tr_tally:j,_tr_align:V}=M,{Z_NO_FLUSH:Y,Z_PARTIAL_FLUSH:G,Z_FULL_FLUSH:X,Z_FINISH:W,Z_BLOCK:J,Z_OK:q,Z_STREAM_END:Q,Z_STREAM_ERROR:tt,Z_DATA_ERROR:et,Z_BUF_ERROR:it,Z_DEFAULT_COMPRESSION:st,Z_FILTERED:nt,Z_HUFFMAN_ONLY:at,Z_RLE:rt,Z_FIXED:ot,Z_DEFAULT_STRATEGY:ht,Z_UNKNOWN:lt,Z_DEFLATED:dt}=H,ct=258,_t=262,ft=42,ut=113,wt=666,gt=(t,e)=>(t.msg=N[e],e),pt=t=>2*t-(t>4?9:0),mt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},bt=t=>{let e,i,s,n=t.w_size;e=t.hash_size,s=e;do{i=t.head[--s],t.head[s]=i>=n?i-n:0}while(--e);e=n,s=e;do{i=t.prev[--s],t.prev[s]=i>=n?i-n:0}while(--e)};let yt=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask;const kt=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))},xt=(t,e)=>{$(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kt(t.strm)},vt=(t,e)=>{t.pending_buf[t.pending++]=e},zt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},At=(t,e,i,s)=>{let n=t.avail_in;return n>s&&(n=s),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),i),1===t.state.wrap?t.adler=O(t.adler,e,n,i):2===t.state.wrap&&(t.adler=F(t.adler,e,n,i)),t.next_in+=n,t.total_in+=n,n)},Et=(t,e)=>{let i,s,n=t.max_chain_length,a=t.strstart,r=t.prev_length,o=t.nice_match;const h=t.strstart>t.w_size-_t?t.strstart-(t.w_size-_t):0,l=t.window,d=t.w_mask,c=t.prev,_=t.strstart+ct;let f=l[a+r-1],u=l[a+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(i=e,l[i+r]===u&&l[i+r-1]===f&&l[i]===l[a]&&l[++i]===l[a+1]){a+=2,i++;do{}while(l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&l[++a]===l[++i]&&a<_);if(s=ct-(_-a),a=_-ct,s>r){if(t.match_start=e,r=s,s>=o)break;f=l[a+r-1],u=l[a+r]}}}while((e=c[e&d])>h&&0!==--n);return r<=t.lookahead?r:t.lookahead},Ut=t=>{const e=t.w_size;let i,s,n;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-_t)&&(t.window.set(t.window.subarray(e,e+e-s),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),bt(t),s+=e),0===t.strm.avail_in)break;if(i=At(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=i,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=yt(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<_t&&0!==t.strm.avail_in)},St=(t,e)=>{let i,s,n,a=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(i=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,s=t.strstart-t.block_start,i>s+t.strm.avail_in&&(i=s+t.strm.avail_in),i>n&&(i=n),i<a&&(0===i&&e!==W||e===Y||i!==s+t.strm.avail_in))break;r=e===W&&i===s+t.strm.avail_in?1:0,K(t,0,0,r),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,kt(t.strm),s&&(s>i&&(s=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,i-=s),i&&(At(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==Y&&e!==W&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(At(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,a=n>t.w_size?t.w_size:n,s=t.strstart-t.block_start,(s>=a||(s||e===W)&&e!==Y&&0===t.strm.avail_in&&s<=n)&&(i=s>n?n:s,r=e===W&&0===t.strm.avail_in&&i===s?1:0,K(t,t.block_start,i,r),t.block_start+=i,kt(t.strm)),r?3:1)},Rt=(t,e)=>{let i,s;for(;;){if(t.lookahead<_t){if(Ut(t),t.lookahead<_t&&e===Y)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-_t&&(t.match_length=Et(t,i)),t.match_length>=3)if(s=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else s=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===W?(xt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xt(t,!1),0===t.strm.avail_out)?1:2},Bt=(t,e)=>{let i,s,n;for(;;){if(t.lookahead<_t){if(Ut(t),t.lookahead<_t&&e===Y)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-_t&&(t.match_length=Et(t,i),t.match_length<=5&&(t.strategy===nt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,s=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,s&&(xt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(s=j(t,0,t.window[t.strstart-1]),s&&xt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===W?(xt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xt(t,!1),0===t.strm.avail_out)?1:2};function Lt(t,e,i,s,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=s,this.func=n}const It=[new Lt(0,0,0,0,St),new Lt(4,4,8,4,Rt),new Lt(4,5,16,8,Rt),new Lt(4,6,32,32,Rt),new Lt(4,4,16,16,Bt),new Lt(8,16,32,32,Bt),new Lt(8,16,128,128,Bt),new Lt(8,32,128,256,Bt),new Lt(32,128,258,1024,Bt),new Lt(32,258,258,4096,Bt)];function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=dt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mt(this.dyn_ltree),mt(this.dyn_dtree),mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Zt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ft&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==ut&&e.status!==wt?1:0},Tt=t=>{if(Zt(t))return gt(t,tt);t.total_in=t.total_out=0,t.data_type=lt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?ft:ut,t.adler=2===e.wrap?0:1,e.last_flush=-2,P(e),q},Mt=t=>{const e=Tt(t);var i;return e===q&&((i=t.state).window_size=2*i.w_size,mt(i.head),i.max_lazy_match=It[i.level].max_lazy,i.good_match=It[i.level].good_length,i.nice_match=It[i.level].nice_length,i.max_chain_length=It[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),e},Ot=(t,e,i,s,n,a)=>{if(!t)return tt;let r=1;if(e===st&&(e=6),s<0?(r=0,s=-s):s>15&&(r=2,s-=16),n<1||n>9||i!==dt||s<8||s>15||e<0||e>9||a<0||a>ot||8===s&&1!==r)return gt(t,tt);8===s&&(s=9);const o=new Dt;return t.state=o,o.strm=t,o.status=ft,o.wrap=r,o.gzhead=null,o.w_bits=s,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=a,o.method=i,Mt(t)};var Ct={deflateInit:(t,e)=>Ot(t,e,dt,15,8,ht),deflateInit2:Ot,deflateReset:Mt,deflateResetKeep:Tt,deflateSetHeader:(t,e)=>Zt(t)||2!==t.state.wrap?tt:(t.state.gzhead=e,q),deflate:(t,e)=>{if(Zt(t)||e>J||e<0)return t?gt(t,tt):tt;const i=t.state;if(!t.output||0!==t.avail_in&&!t.input||i.status===wt&&e!==W)return gt(t,0===t.avail_out?it:tt);const s=i.last_flush;if(i.last_flush=e,0!==i.pending){if(kt(t),0===t.avail_out)return i.last_flush=-1,q}else if(0===t.avail_in&&pt(e)<=pt(s)&&e!==W)return gt(t,it);if(i.status===wt&&0!==t.avail_in)return gt(t,it);if(i.status===ft&&0===i.wrap&&(i.status=ut),i.status===ft){let e=dt+(i.w_bits-8<<4)<<8,s=-1;if(s=i.strategy>=at||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=s<<6,0!==i.strstart&&(e|=32),e+=31-e%31,zt(i,e),0!==i.strstart&&(zt(i,t.adler>>>16),zt(i,65535&t.adler)),t.adler=1,i.status=ut,kt(t),0!==i.pending)return i.last_flush=-1,q}if(57===i.status)if(t.adler=0,vt(i,31),vt(i,139),vt(i,8),i.gzhead)vt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),vt(i,255&i.gzhead.time),vt(i,i.gzhead.time>>8&255),vt(i,i.gzhead.time>>16&255),vt(i,i.gzhead.time>>24&255),vt(i,9===i.level?2:i.strategy>=at||i.level<2?4:0),vt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(vt(i,255&i.gzhead.extra.length),vt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=F(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(vt(i,0),vt(i,0),vt(i,0),vt(i,0),vt(i,0),vt(i,9===i.level?2:i.strategy>=at||i.level<2?4:0),vt(i,3),i.status=ut,kt(t),0!==i.pending)return i.last_flush=-1,q;if(69===i.status){if(i.gzhead.extra){let e=i.pending,s=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+s>i.pending_buf_size;){let n=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>e&&(t.adler=F(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex+=n,kt(t),0!==i.pending)return i.last_flush=-1,q;e=0,s-=n}let n=new Uint8Array(i.gzhead.extra);i.pending_buf.set(n.subarray(i.gzindex,i.gzindex+s),i.pending),i.pending+=s,i.gzhead.hcrc&&i.pending>e&&(t.adler=F(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let e,s=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>s&&(t.adler=F(t.adler,i.pending_buf,i.pending-s,s)),kt(t),0!==i.pending)return i.last_flush=-1,q;s=0}e=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,vt(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>s&&(t.adler=F(t.adler,i.pending_buf,i.pending-s,s)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let e,s=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>s&&(t.adler=F(t.adler,i.pending_buf,i.pending-s,s)),kt(t),0!==i.pending)return i.last_flush=-1,q;s=0}e=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,vt(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>s&&(t.adler=F(t.adler,i.pending_buf,i.pending-s,s))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(kt(t),0!==i.pending))return i.last_flush=-1,q;vt(i,255&t.adler),vt(i,t.adler>>8&255),t.adler=0}if(i.status=ut,kt(t),0!==i.pending)return i.last_flush=-1,q}if(0!==t.avail_in||0!==i.lookahead||e!==Y&&i.status!==wt){let s=0===i.level?St(i,e):i.strategy===at?((t,e)=>{let i;for(;;){if(0===t.lookahead&&(Ut(t),0===t.lookahead)){if(e===Y)return 1;break}if(t.match_length=0,i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===W?(xt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xt(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===rt?((t,e)=>{let i,s,n,a;const r=t.window;for(;;){if(t.lookahead<=ct){if(Ut(t),t.lookahead<=ct&&e===Y)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,s=r[n],s===r[++n]&&s===r[++n]&&s===r[++n])){a=t.strstart+ct;do{}while(s===r[++n]&&s===r[++n]&&s===r[++n]&&s===r[++n]&&s===r[++n]&&s===r[++n]&&s===r[++n]&&s===r[++n]&&n<a);t.match_length=ct-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(xt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===W?(xt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(xt(t,!1),0===t.strm.avail_out)?1:2})(i,e):It[i.level].func(i,e);if(3!==s&&4!==s||(i.status=wt),1===s||3===s)return 0===t.avail_out&&(i.last_flush=-1),q;if(2===s&&(e===G?V(i):e!==J&&(K(i,0,0,!1),e===X&&(mt(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),kt(t),0===t.avail_out))return i.last_flush=-1,q}return e!==W?q:i.wrap<=0?Q:(2===i.wrap?(vt(i,255&t.adler),vt(i,t.adler>>8&255),vt(i,t.adler>>16&255),vt(i,t.adler>>24&255),vt(i,255&t.total_in),vt(i,t.total_in>>8&255),vt(i,t.total_in>>16&255),vt(i,t.total_in>>24&255)):(zt(i,t.adler>>>16),zt(i,65535&t.adler)),kt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?q:Q)},deflateEnd:t=>{if(Zt(t))return tt;const e=t.state.status;return t.state=null,e===ut?gt(t,et):q},deflateSetDictionary:(t,e)=>{let i=e.length;if(Zt(t))return tt;const s=t.state,n=s.wrap;if(2===n||1===n&&s.status!==ft||s.lookahead)return tt;if(1===n&&(t.adler=O(t.adler,e,i,0)),s.wrap=0,i>=s.w_size){0===n&&(mt(s.head),s.strstart=0,s.block_start=0,s.insert=0);let t=new Uint8Array(s.w_size);t.set(e.subarray(i-s.w_size,i),0),e=t,i=s.w_size}const a=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,Ut(s);s.lookahead>=3;){let t=s.strstart,e=s.lookahead-2;do{s.ins_h=yt(s,s.ins_h,s.window[t+3-1]),s.prev[t&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=t,t++}while(--e);s.strstart=t,s.lookahead=2,Ut(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,t.next_in=r,t.input=o,t.avail_in=a,s.wrap=n,q},deflateInfo:"pako deflate (from Nodeca project)"};const Ft=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Nt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const e in i)Ft(i,e)&&(t[e]=i[e])}}return t},Ht=t=>{let e=0;for(let s=0,n=t.length;s<n;s++)e+=t[s].length;const i=new Uint8Array(e);for(let s=0,n=0,a=t.length;s<a;s++){let e=t[s];i.set(e,n),n+=e.length}return i};let Pt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Fi){Pt=!1}const Kt=new Uint8Array(256);for(let Hi=0;Hi<256;Hi++)Kt[Hi]=Hi>=252?6:Hi>=248?5:Hi>=240?4:Hi>=224?3:Hi>=192?2:1;Kt[254]=Kt[254]=1;var $t=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,i,s,n,a,r=t.length,o=0;for(n=0;n<r;n++)i=t.charCodeAt(n),55296==(64512&i)&&n+1<r&&(s=t.charCodeAt(n+1),56320==(64512&s)&&(i=65536+(i-55296<<10)+(s-56320),n++)),o+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(o),a=0,n=0;a<o;n++)i=t.charCodeAt(n),55296==(64512&i)&&n+1<r&&(s=t.charCodeAt(n+1),56320==(64512&s)&&(i=65536+(i-55296<<10)+(s-56320),n++)),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|63&i):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|63&i):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|63&i);return e},jt=(t,e)=>{const i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let s,n;const a=new Array(2*i);for(n=0,s=0;s<i;){let e=t[s++];if(e<128){a[n++]=e;continue}let r=Kt[e];if(r>4)a[n++]=65533,s+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&s<i;)e=e<<6|63&t[s++],r--;r>1?a[n++]=65533:e<65536?a[n++]=e:(e-=65536,a[n++]=55296|e>>10&1023,a[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Pt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let s=0;s<e;s++)i+=String.fromCharCode(t[s]);return i})(a,n)},Vt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let i=e-1;for(;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+Kt[t[i]]>e?i:e};var Yt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Gt=Object.prototype.toString,{Z_NO_FLUSH:Xt,Z_SYNC_FLUSH:Wt,Z_FULL_FLUSH:Jt,Z_FINISH:qt,Z_OK:Qt,Z_STREAM_END:te,Z_DEFAULT_COMPRESSION:ee,Z_DEFAULT_STRATEGY:ie,Z_DEFLATED:se}=H;function ne(t){this.options=Nt({level:ee,method:se,chunkSize:16384,windowBits:15,memLevel:8,strategy:ie},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yt,this.strm.avail_out=0;let i=Ct.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==Qt)throw new Error(N[i]);if(e.header&&Ct.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?$t(e.dictionary):"[object ArrayBuffer]"===Gt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=Ct.deflateSetDictionary(this.strm,t),i!==Qt)throw new Error(N[i]);this._dict_set=!0}}function ae(t,e){const i=new ne(e);if(i.push(t,!0),i.err)throw i.msg||N[i.err];return i.result}ne.prototype.push=function(t,e){const i=this.strm,s=this.options.chunkSize;let n,a;if(this.ended)return!1;for(a=e===~~e?e:!0===e?qt:Xt,"string"==typeof t?i.input=$t(t):"[object ArrayBuffer]"===Gt.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(a===Wt||a===Jt)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(n=Ct.deflate(i,a),n===te)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=Ct.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Qt;if(0!==i.avail_out){if(a>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},ne.prototype.onData=function(t){this.chunks.push(t)},ne.prototype.onEnd=function(t){t===Qt&&(this.result=Ht(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var re={Deflate:ne,deflate:ae,deflateRaw:function(t,e){return(e=e||{}).raw=!0,ae(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,ae(t,e)}};const oe=16209;var he=function(t,e){let i,s,n,a,r,o,h,l,d,c,_,f,u,w,g,p,m,b,y,k,x,v,z,A;const E=t.state;i=t.next_in,z=t.input,s=i+(t.avail_in-5),n=t.next_out,A=t.output,a=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,h=E.wsize,l=E.whave,d=E.wnext,c=E.window,_=E.hold,f=E.bits,u=E.lencode,w=E.distcode,g=(1<<E.lenbits)-1,p=(1<<E.distbits)-1;t:do{f<15&&(_+=z[i++]<<f,f+=8,_+=z[i++]<<f,f+=8),m=u[_&g];e:for(;;){if(b=m>>>24,_>>>=b,f-=b,b=m>>>16&255,0===b)A[n++]=65535&m;else{if(!(16&b)){if(64&b){if(32&b){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=oe;break t}m=u[(65535&m)+(_&(1<<b)-1)];continue e}for(y=65535&m,b&=15,b&&(f<b&&(_+=z[i++]<<f,f+=8),y+=_&(1<<b)-1,_>>>=b,f-=b),f<15&&(_+=z[i++]<<f,f+=8,_+=z[i++]<<f,f+=8),m=w[_&p];;){if(b=m>>>24,_>>>=b,f-=b,b=m>>>16&255,16&b){if(k=65535&m,b&=15,f<b&&(_+=z[i++]<<f,f+=8,f<b&&(_+=z[i++]<<f,f+=8)),k+=_&(1<<b)-1,k>o){t.msg="invalid distance too far back",E.mode=oe;break t}if(_>>>=b,f-=b,b=n-a,k>b){if(b=k-b,b>l&&E.sane){t.msg="invalid distance too far back",E.mode=oe;break t}if(x=0,v=c,0===d){if(x+=h-b,b<y){y-=b;do{A[n++]=c[x++]}while(--b);x=n-k,v=A}}else if(d<b){if(x+=h+d-b,b-=d,b<y){y-=b;do{A[n++]=c[x++]}while(--b);if(x=0,d<y){b=d,y-=b;do{A[n++]=c[x++]}while(--b);x=n-k,v=A}}}else if(x+=d-b,b<y){y-=b;do{A[n++]=c[x++]}while(--b);x=n-k,v=A}for(;y>2;)A[n++]=v[x++],A[n++]=v[x++],A[n++]=v[x++],y-=3;y&&(A[n++]=v[x++],y>1&&(A[n++]=v[x++]))}else{x=n-k;do{A[n++]=A[x++],A[n++]=A[x++],A[n++]=A[x++],y-=3}while(y>2);y&&(A[n++]=A[x++],y>1&&(A[n++]=A[x++]))}break}if(64&b){t.msg="invalid distance code",E.mode=oe;break t}m=w[(65535&m)+(_&(1<<b)-1)]}}break}}while(i<s&&n<r);y=f>>3,i-=y,f-=y<<3,_&=(1<<f)-1,t.next_in=i,t.next_out=n,t.avail_in=i<s?s-i+5:5-(i-s),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=_,E.bits=f};const le=15,de=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ce=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ue=(t,e,i,s,n,a,r,o)=>{const h=o.bits;let l,d,c,_,f,u,w=0,g=0,p=0,m=0,b=0,y=0,k=0,x=0,v=0,z=0,A=null;const E=new Uint16Array(16),U=new Uint16Array(16);let S,R,B,L=null;for(w=0;w<=le;w++)E[w]=0;for(g=0;g<s;g++)E[e[i+g]]++;for(b=h,m=le;m>=1&&0===E[m];m--);if(b>m&&(b=m),0===m)return n[a++]=20971520,n[a++]=20971520,o.bits=1,0;for(p=1;p<m&&0===E[p];p++);for(b<p&&(b=p),x=1,w=1;w<=le;w++)if(x<<=1,x-=E[w],x<0)return-1;if(x>0&&(0===t||1!==m))return-1;for(U[1]=0,w=1;w<le;w++)U[w+1]=U[w]+E[w];for(g=0;g<s;g++)0!==e[i+g]&&(r[U[e[i+g]]++]=g);if(0===t?(A=L=r,u=20):1===t?(A=de,L=ce,u=257):(A=_e,L=fe,u=0),z=0,g=0,w=p,f=a,y=b,k=0,c=-1,v=1<<b,_=v-1,1===t&&v>852||2===t&&v>592)return 1;for(;;){S=w-k,r[g]+1<u?(R=0,B=r[g]):r[g]>=u?(R=L[r[g]-u],B=A[r[g]-u]):(R=96,B=0),l=1<<w-k,d=1<<y,p=d;do{d-=l,n[f+(z>>k)+d]=S<<24|R<<16|B}while(0!==d);for(l=1<<w-1;z&l;)l>>=1;if(0!==l?(z&=l-1,z+=l):z=0,g++,0===--E[w]){if(w===m)break;w=e[i+r[g]]}if(w>b&&(z&_)!==c){for(0===k&&(k=b),f+=p,y=w-k,x=1<<y;y+k<m&&(x-=E[y+k],!(x<=0));)y++,x<<=1;if(v+=1<<y,1===t&&v>852||2===t&&v>592)return 1;c=z&_,n[c]=b<<24|y<<16|f-a}}return 0!==z&&(n[f+z]=w-k<<24|64<<16),o.bits=b,0};const{Z_FINISH:we,Z_BLOCK:ge,Z_TREES:pe,Z_OK:me,Z_STREAM_END:be,Z_NEED_DICT:ye,Z_STREAM_ERROR:ke,Z_DATA_ERROR:xe,Z_MEM_ERROR:ve,Z_BUF_ERROR:ze,Z_DEFLATED:Ae}=H,Ee=16180,Ue=16190,Se=16191,Re=16192,Be=16194,Le=16199,Ie=16200,De=16206,Ze=16209,Te=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Me(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Oe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ee||e.mode>16211?1:0},Ce=t=>{if(Oe(t))return ke;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Ee,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,me},Fe=t=>{if(Oe(t))return ke;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ce(t)},Ne=(t,e)=>{let i;if(Oe(t))return ke;const s=t.state;return e<0?(i=0,e=-e):(i=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ke:(null!==s.window&&s.wbits!==e&&(s.window=null),s.wrap=i,s.wbits=e,Fe(t))},He=(t,e)=>{if(!t)return ke;const i=new Me;t.state=i,i.strm=t,i.window=null,i.mode=Ee;const s=Ne(t,e);return s!==me&&(t.state=null),s};let Pe,Ke,$e=!0;const je=t=>{if($e){Pe=new Int32Array(512),Ke=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ue(1,t.lens,0,288,Pe,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ue(2,t.lens,0,32,Ke,0,t.work,{bits:5}),$e=!1}t.lencode=Pe,t.lenbits=9,t.distcode=Ke,t.distbits=5},Ve=(t,e,i,s)=>{let n;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),s>=a.wsize?(a.window.set(e.subarray(i-a.wsize,i),0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>s&&(n=s),a.window.set(e.subarray(i-s,i-s+n),a.wnext),(s-=n)?(a.window.set(e.subarray(i-s,i),0),a.wnext=s,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0};var Ye={inflateReset:Fe,inflateReset2:Ne,inflateResetKeep:Ce,inflateInit:t=>He(t,15),inflateInit2:He,inflate:(t,e)=>{let i,s,n,a,r,o,h,l,d,c,_,f,u,w,g,p,m,b,y,k,x,v,z=0;const A=new Uint8Array(4);let E,U;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Oe(t)||!t.output||!t.input&&0!==t.avail_in)return ke;i=t.state,i.mode===Se&&(i.mode=Re),r=t.next_out,n=t.output,h=t.avail_out,a=t.next_in,s=t.input,o=t.avail_in,l=i.hold,d=i.bits,c=o,_=h,v=me;t:for(;;)switch(i.mode){case Ee:if(0===i.wrap){i.mode=Re;break}for(;d<16;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(2&i.wrap&&35615===l){0===i.wbits&&(i.wbits=15),i.check=0,A[0]=255&l,A[1]=l>>>8&255,i.check=F(i.check,A,2,0),l=0,d=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",i.mode=Ze;break}if((15&l)!==Ae){t.msg="unknown compression method",i.mode=Ze;break}if(l>>>=4,d-=4,x=8+(15&l),0===i.wbits&&(i.wbits=x),x>15||x>i.wbits){t.msg="invalid window size",i.mode=Ze;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=512&l?16189:Se,l=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(i.flags=l,(255&i.flags)!==Ae){t.msg="unknown compression method",i.mode=Ze;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Ze;break}i.head&&(i.head.text=l>>8&1),512&i.flags&&4&i.wrap&&(A[0]=255&l,A[1]=l>>>8&255,i.check=F(i.check,A,2,0)),l=0,d=0,i.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}i.head&&(i.head.time=l),512&i.flags&&4&i.wrap&&(A[0]=255&l,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,i.check=F(i.check,A,4,0)),l=0,d=0,i.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}i.head&&(i.head.xflags=255&l,i.head.os=l>>8),512&i.flags&&4&i.wrap&&(A[0]=255&l,A[1]=l>>>8&255,i.check=F(i.check,A,2,0)),l=0,d=0,i.mode=16184;case 16184:if(1024&i.flags){for(;d<16;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}i.length=l,i.head&&(i.head.extra_len=l),512&i.flags&&4&i.wrap&&(A[0]=255&l,A[1]=l>>>8&255,i.check=F(i.check,A,2,0)),l=0,d=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(f=i.length,f>o&&(f=o),f&&(i.head&&(x=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(s.subarray(a,a+f),x)),512&i.flags&&4&i.wrap&&(i.check=F(i.check,s,f,a)),o-=f,a+=f,i.length-=f),i.length))break t;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===o)break t;f=0;do{x=s[a+f++],i.head&&x&&i.length<65536&&(i.head.name+=String.fromCharCode(x))}while(x&&f<o);if(512&i.flags&&4&i.wrap&&(i.check=F(i.check,s,f,a)),o-=f,a+=f,x)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===o)break t;f=0;do{x=s[a+f++],i.head&&x&&i.length<65536&&(i.head.comment+=String.fromCharCode(x))}while(x&&f<o);if(512&i.flags&&4&i.wrap&&(i.check=F(i.check,s,f,a)),o-=f,a+=f,x)break t}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;d<16;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(4&i.wrap&&l!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Ze;break}l=0,d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Se;break;case 16189:for(;d<32;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}t.adler=i.check=Te(l),l=0,d=0,i.mode=Ue;case Ue:if(0===i.havedict)return t.next_out=r,t.avail_out=h,t.next_in=a,t.avail_in=o,i.hold=l,i.bits=d,ye;t.adler=i.check=1,i.mode=Se;case Se:if(e===ge||e===pe)break t;case Re:if(i.last){l>>>=7&d,d-=7&d,i.mode=De;break}for(;d<3;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}switch(i.last=1&l,l>>>=1,d-=1,3&l){case 0:i.mode=16193;break;case 1:if(je(i),i.mode=Le,e===pe){l>>>=2,d-=2;break t}break;case 2:i.mode=16196;break;case 3:t.msg="invalid block type",i.mode=Ze}l>>>=2,d-=2;break;case 16193:for(l>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Ze;break}if(i.length=65535&l,l=0,d=0,i.mode=Be,e===pe)break t;case Be:i.mode=16195;case 16195:if(f=i.length,f){if(f>o&&(f=o),f>h&&(f=h),0===f)break t;n.set(s.subarray(a,a+f),r),o-=f,a+=f,h-=f,r+=f,i.length-=f;break}i.mode=Se;break;case 16196:for(;d<14;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(i.nlen=257+(31&l),l>>>=5,d-=5,i.ndist=1+(31&l),l>>>=5,d-=5,i.ncode=4+(15&l),l>>>=4,d-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Ze;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;d<3;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}i.lens[S[i.have++]]=7&l,l>>>=3,d-=3}for(;i.have<19;)i.lens[S[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,E={bits:i.lenbits},v=ue(0,i.lens,0,19,i.lencode,0,i.work,E),i.lenbits=E.bits,v){t.msg="invalid code lengths set",i.mode=Ze;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;z=i.lencode[l&(1<<i.lenbits)-1],g=z>>>24,p=z>>>16&255,m=65535&z,!(g<=d);){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(m<16)l>>>=g,d-=g,i.lens[i.have++]=m;else{if(16===m){for(U=g+2;d<U;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(l>>>=g,d-=g,0===i.have){t.msg="invalid bit length repeat",i.mode=Ze;break}x=i.lens[i.have-1],f=3+(3&l),l>>>=2,d-=2}else if(17===m){for(U=g+3;d<U;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}l>>>=g,d-=g,x=0,f=3+(7&l),l>>>=3,d-=3}else{for(U=g+7;d<U;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}l>>>=g,d-=g,x=0,f=11+(127&l),l>>>=7,d-=7}if(i.have+f>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Ze;break}for(;f--;)i.lens[i.have++]=x}}if(i.mode===Ze)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Ze;break}if(i.lenbits=9,E={bits:i.lenbits},v=ue(1,i.lens,0,i.nlen,i.lencode,0,i.work,E),i.lenbits=E.bits,v){t.msg="invalid literal/lengths set",i.mode=Ze;break}if(i.distbits=6,i.distcode=i.distdyn,E={bits:i.distbits},v=ue(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,E),i.distbits=E.bits,v){t.msg="invalid distances set",i.mode=Ze;break}if(i.mode=Le,e===pe)break t;case Le:i.mode=Ie;case Ie:if(o>=6&&h>=258){t.next_out=r,t.avail_out=h,t.next_in=a,t.avail_in=o,i.hold=l,i.bits=d,he(t,_),r=t.next_out,n=t.output,h=t.avail_out,a=t.next_in,s=t.input,o=t.avail_in,l=i.hold,d=i.bits,i.mode===Se&&(i.back=-1);break}for(i.back=0;z=i.lencode[l&(1<<i.lenbits)-1],g=z>>>24,p=z>>>16&255,m=65535&z,!(g<=d);){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(p&&!(240&p)){for(b=g,y=p,k=m;z=i.lencode[k+((l&(1<<b+y)-1)>>b)],g=z>>>24,p=z>>>16&255,m=65535&z,!(b+g<=d);){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}l>>>=b,d-=b,i.back+=b}if(l>>>=g,d-=g,i.back+=g,i.length=m,0===p){i.mode=16205;break}if(32&p){i.back=-1,i.mode=Se;break}if(64&p){t.msg="invalid literal/length code",i.mode=Ze;break}i.extra=15&p,i.mode=16201;case 16201:if(i.extra){for(U=i.extra;d<U;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;z=i.distcode[l&(1<<i.distbits)-1],g=z>>>24,p=z>>>16&255,m=65535&z,!(g<=d);){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(!(240&p)){for(b=g,y=p,k=m;z=i.distcode[k+((l&(1<<b+y)-1)>>b)],g=z>>>24,p=z>>>16&255,m=65535&z,!(b+g<=d);){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}l>>>=b,d-=b,i.back+=b}if(l>>>=g,d-=g,i.back+=g,64&p){t.msg="invalid distance code",i.mode=Ze;break}i.offset=m,i.extra=15&p,i.mode=16203;case 16203:if(i.extra){for(U=i.extra;d<U;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Ze;break}i.mode=16204;case 16204:if(0===h)break t;if(f=_-h,i.offset>f){if(f=i.offset-f,f>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Ze;break}f>i.wnext?(f-=i.wnext,u=i.wsize-f):u=i.wnext-f,f>i.length&&(f=i.length),w=i.window}else w=n,u=r-i.offset,f=i.length;f>h&&(f=h),h-=f,i.length-=f;do{n[r++]=w[u++]}while(--f);0===i.length&&(i.mode=Ie);break;case 16205:if(0===h)break t;n[r++]=i.length,h--,i.mode=Ie;break;case De:if(i.wrap){for(;d<32;){if(0===o)break t;o--,l|=s[a++]<<d,d+=8}if(_-=h,t.total_out+=_,i.total+=_,4&i.wrap&&_&&(t.adler=i.check=i.flags?F(i.check,n,_,r-_):O(i.check,n,_,r-_)),_=h,4&i.wrap&&(i.flags?l:Te(l))!==i.check){t.msg="incorrect data check",i.mode=Ze;break}l=0,d=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;d<32;){if(0===o)break t;o--,l+=s[a++]<<d,d+=8}if(4&i.wrap&&l!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Ze;break}l=0,d=0}i.mode=16208;case 16208:v=be;break t;case Ze:v=xe;break t;case 16210:return ve;default:return ke}return t.next_out=r,t.avail_out=h,t.next_in=a,t.avail_in=o,i.hold=l,i.bits=d,(i.wsize||_!==t.avail_out&&i.mode<Ze&&(i.mode<De||e!==we))&&Ve(t,t.output,t.next_out,_-t.avail_out),c-=t.avail_in,_-=t.avail_out,t.total_in+=c,t.total_out+=_,i.total+=_,4&i.wrap&&_&&(t.adler=i.check=i.flags?F(i.check,n,_,t.next_out-_):O(i.check,n,_,t.next_out-_)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Se?128:0)+(i.mode===Le||i.mode===Be?256:0),(0===c&&0===_||e===we)&&v===me&&(v=ze),v},inflateEnd:t=>{if(Oe(t))return ke;let e=t.state;return e.window&&(e.window=null),t.state=null,me},inflateGetHeader:(t,e)=>{if(Oe(t))return ke;const i=t.state;return 2&i.wrap?(i.head=e,e.done=!1,me):ke},inflateSetDictionary:(t,e)=>{const i=e.length;let s,n,a;return Oe(t)?ke:(s=t.state,0!==s.wrap&&s.mode!==Ue?ke:s.mode===Ue&&(n=1,n=O(n,e,i,0),n!==s.check)?xe:(a=Ve(t,e,i,i),a?(s.mode=16210,ve):(s.havedict=1,me)))},inflateInfo:"pako inflate (from Nodeca project)"};var Ge=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Xe=Object.prototype.toString,{Z_NO_FLUSH:We,Z_FINISH:Je,Z_OK:qe,Z_STREAM_END:Qe,Z_NEED_DICT:ti,Z_STREAM_ERROR:ei,Z_DATA_ERROR:ii,Z_MEM_ERROR:si}=H;function ni(t){this.options=Nt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yt,this.strm.avail_out=0;let i=Ye.inflateInit2(this.strm,e.windowBits);if(i!==qe)throw new Error(N[i]);if(this.header=new Ge,Ye.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=$t(e.dictionary):"[object ArrayBuffer]"===Xe.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=Ye.inflateSetDictionary(this.strm,e.dictionary),i!==qe)))throw new Error(N[i])}function ai(t,e){const i=new ni(e);if(i.push(t),i.err)throw i.msg||N[i.err];return i.result}ni.prototype.push=function(t,e){const i=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let a,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Je:We,"[object ArrayBuffer]"===Xe.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),a=Ye.inflate(i,r),a===ti&&n&&(a=Ye.inflateSetDictionary(i,n),a===qe?a=Ye.inflate(i,r):a===ii&&(a=ti));i.avail_in>0&&a===Qe&&i.state.wrap>0&&0!==t[i.next_in];)Ye.inflateReset(i),a=Ye.inflate(i,r);switch(a){case ei:case ii:case ti:case si:return this.onEnd(a),this.ended=!0,!1}if(o=i.avail_out,i.next_out&&(0===i.avail_out||a===Qe))if("string"===this.options.to){let t=Vt(i.output,i.next_out),e=i.next_out-t,n=jt(i.output,t);i.next_out=e,i.avail_out=s-e,e&&i.output.set(i.output.subarray(t,t+e),0),this.onData(n)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(a!==qe||0!==o){if(a===Qe)return a=Ye.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},ni.prototype.onData=function(t){this.chunks.push(t)},ni.prototype.onEnd=function(t){t===qe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ht(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ri={Inflate:ni,inflate:ai,inflateRaw:function(t,e){return(e=e||{}).raw=!0,ai(t,e)},ungzip:ai};const{Deflate:oi,deflate:hi,deflateRaw:li,gzip:di}=re,{Inflate:ci,inflate:_i,inflateRaw:fi,ungzip:ui}=ri;var wi={Deflate:oi,deflate:hi,deflateRaw:li,gzip:di,Inflate:ci,inflate:_i,inflateRaw:fi,ungzip:ui,constants:H};new TextEncoder;function gi(t,e,i){let s=e;const n=s+i,a=[];let r="";for(;s<n;){const e=t[s++];if(128&e)if(192==(224&e)){const i=63&t[s++];a.push((31&e)<<6|i)}else if(224==(240&e)){const i=63&t[s++],n=63&t[s++];a.push((31&e)<<12|i<<6|n)}else if(240==(248&e)){let i=(7&e)<<18|(63&t[s++])<<12|(63&t[s++])<<6|63&t[s++];i>65535&&(i-=65536,a.push(i>>>10&1023|55296),i=56320|1023&i),a.push(i)}else a.push(e);else a.push(e);a.length>=4096&&(r+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(r+=String.fromCharCode(...a)),r}const pi=new TextDecoder;function mi(t,e,i){return i>200?function(t,e,i){const s=t.subarray(e,e+i);return pi.decode(s)}(t,e,i):gi(t,e,i)}class bi{constructor(t,e){this.type=t,this.data=e}}class yi extends Error{constructor(t){super(t);const e=Object.create(yi.prototype);Object.setPrototypeOf(this,e),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:yi.name})}}const ki=4294967295;function xi(t,e){return 4294967296*t.getInt32(e)+t.getUint32(e+4)}function vi({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=17179869183){if(0===e&&t<=4294967295){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),e}{const i=t/4294967296,s=4294967295&t,n=new Uint8Array(8),a=new DataView(n.buffer);return a.setUint32(0,e<<2|3&i),a.setUint32(4,s),n}}{const i=new Uint8Array(12),s=new DataView(i.buffer);return s.setUint32(0,e),function(t,e,i){const s=Math.floor(i/4294967296),n=i;t.setUint32(e,s),t.setUint32(e+4,n)}(s,4,t),i}}const zi={type:-1,encode:function(t){if(t instanceof Date){return vi(function(t){const e=t.getTime(),i=Math.floor(e/1e3),s=1e6*(e-1e3*i),n=Math.floor(s/1e9);return{sec:i+n,nsec:s-1e9*n}}(t))}return null},decode:function(t){const e=function(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const t=e.getUint32(0);return{sec:4294967296*(3&t)+e.getUint32(4),nsec:t>>>2}}case 12:return{sec:xi(e,4),nsec:e.getUint32(0)};default:throw new yi(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}(t);return new Date(1e3*e.sec+e.nsec/1e6)}};class Ai{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(zi)}register({type:t,encode:e,decode:i}){if(t>=0)this.encoders[t]=e,this.decoders[t]=i;else{const s=-1-t;this.builtInEncoders[s]=e,this.builtInDecoders[s]=i}}tryToEncode(t,e){for(let i=0;i<this.builtInEncoders.length;i++){const s=this.builtInEncoders[i];if(null!=s){const n=s(t,e);if(null!=n){return new bi(-1-i,n)}}}for(let i=0;i<this.encoders.length;i++){const s=this.encoders[i];if(null!=s){const n=s(t,e);if(null!=n){return new bi(i,n)}}}return t instanceof bi?t:null}decode(t,e,i){const s=e<0?this.builtInDecoders[-1-e]:this.decoders[e];return s?s(t,e,i):new bi(e,t)}}function Ei(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):function(t){return t instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer}(t)?new Uint8Array(t):Uint8Array.from(t)}function Ui(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}Ai.defaultCodec=new Ai;const Si="array",Ri="map_key",Bi="map_value",Li=t=>{if("string"==typeof t||"number"==typeof t)return t;throw new yi("The type of key must be string or number but "+typeof t)};class Ii{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const e=this.getUninitializedStateFromPool();e.type=Si,e.position=0,e.size=t,e.array=new Array(t)}pushMapState(t){const e=this.getUninitializedStateFromPool();e.type=Ri,e.readCount=0,e.size=t,e.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===Si){const e=t;e.size=0,e.array=void 0,e.position=0,e.type=void 0}if(t.type===Ri||t.type===Bi){const e=t;e.size=0,e.map=void 0,e.readCount=0,e.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Di=new DataView(new ArrayBuffer(0)),Zi=new Uint8Array(Di.buffer);try{Di.getInt8(0)}catch(Ni){if(!(Ni instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const Ti=new RangeError("Insufficient data"),Mi=new class{constructor(t=16,e=16){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=e,this.caches=[];for(let i=0;i<this.maxKeyLength;i++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,e,i){const s=this.caches[i-1];t:for(const n of s){const s=n.bytes;for(let n=0;n<i;n++)if(s[n]!==t[e+n])continue t;return n.str}return null}store(t,e){const i=this.caches[t.length-1],s={bytes:t,str:e};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=s:i.push(s)}decode(t,e,i){const s=this.find(t,e,i);if(null!=s)return this.hit++,s;this.miss++;const n=gi(t,e,i),a=Uint8Array.prototype.slice.call(t,e,e+i);return this.store(a,n),n}};class Oi{constructor(t){this.totalPos=0,this.pos=0,this.view=Di,this.bytes=Zi,this.headByte=-1,this.stack=new Ii,this.entered=!1,this.extensionCodec=t?.extensionCodec??Ai.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??ki,this.maxBinLength=t?.maxBinLength??ki,this.maxArrayLength=t?.maxArrayLength??ki,this.maxMapLength=t?.maxMapLength??ki,this.maxExtLength=t?.maxExtLength??ki,this.keyDecoder=void 0!==t?.keyDecoder?t.keyDecoder:Mi,this.mapKeyConverter=t?.mapKeyConverter??Li}clone(){return new Oi({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(t){const e=Ei(t);this.bytes=e,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.pos=0}appendBuffer(t){if(-1!==this.headByte||this.hasRemaining(1)){const e=this.bytes.subarray(this.pos),i=Ei(t),s=new Uint8Array(e.length+i.length);s.set(e),s.set(i,e.length),this.setBuffer(s)}else this.setBuffer(t)}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:e,pos:i}=this;return new RangeError(`Extra ${e.byteLength-i} of ${e.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered){return this.clone().decode(t)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const e=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return e}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){const e=this.clone();return void(yield*e.decodeMulti(t))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered){return this.clone().decodeAsync(t)}try{this.entered=!0;let e,i=!1;for await(const r of t){if(i)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(r);try{e=this.doDecodeSync(),i=!0}catch(Ni){if(!(Ni instanceof RangeError))throw Ni}this.totalPos+=this.pos}if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return e}const{headByte:s,pos:n,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${Ui(s)} at ${a} (${n} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,e){if(this.entered){const i=this.clone();return void(yield*i.decodeMultiAsync(t,e))}try{this.entered=!0;let i=e,s=-1;for await(const n of t){if(e&&0===s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(n),i&&(s=this.readArraySize(),i=!1,this.complete());try{for(;yield this.doDecodeSync(),0!==--s;);}catch(Ni){if(!(Ni instanceof RangeError))throw Ni}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){t:for(;;){const t=this.readHeadByte();let e;if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){const i=t-128;if(0!==i){this.pushMapState(i),this.complete();continue t}e={}}else if(t<160){const i=t-144;if(0!==i){this.pushArrayState(i),this.complete();continue t}e=[]}else{const i=t-160;e=this.decodeString(i,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){const t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){const t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){const t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){const t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue t}e=[]}else if(221===t){const t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue t}e=[]}else if(222===t){const t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue t}e={}}else if(223===t){const t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue t}e={}}else if(196===t){const t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){const t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){const t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){const t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){const t=this.lookU16();e=this.decodeExtension(t,2)}else{if(201!==t)throw new yi(`Unrecognized type byte: ${Ui(t)}`);{const t=this.lookU32();e=this.decodeExtension(t,4)}}this.complete();const i=this.stack;for(;i.length>0;){const t=i.top();if(t.type===Si){if(t.array[t.position]=e,t.position++,t.position!==t.size)continue t;e=t.array,i.release(t)}else{if(t.type===Ri){if("__proto__"===e)throw new yi("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=Bi;continue t}if(t.map[t.key]=e,t.readCount++,t.readCount!==t.size){t.key=null,t.type=Ri;continue t}e=t.map,i.release(t)}}return e}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:if(t<160)return t-144;throw new yi(`Unrecognized array type byte: ${Ui(t)}`)}}pushMapState(t){if(t>this.maxMapLength)throw new yi(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new yi(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,e){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,e):this.decodeBinary(t,e)}decodeUtf8String(t,e){if(t>this.maxStrLength)throw new yi(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+e+t)throw Ti;const i=this.pos+e;let s;return s=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?this.keyDecoder.decode(this.bytes,i,t):mi(this.bytes,i,t),this.pos+=e+t,s}stateIsMapKey(){if(this.stack.length>0){return this.stack.top().type===Ri}return!1}decodeBinary(t,e){if(t>this.maxBinLength)throw new yi(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+e))throw Ti;const i=this.pos+e,s=this.bytes.subarray(i,i+t);return this.pos+=e+t,s}decodeExtension(t,e){if(t>this.maxExtLength)throw new yi(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const i=this.view.getInt8(this.pos+e),s=this.decodeBinary(t,e+1);return this.extensionCodec.decode(s,i,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=(e=this.view,i=this.pos,4294967296*e.getUint32(i)+e.getUint32(i+4));var e,i;return this.pos+=8,t}readI64(){const t=xi(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}}function Ci(t,e){return new Oi(e).decode(t)}export{Ci as d,wi as p};
